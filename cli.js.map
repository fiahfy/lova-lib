{"version":3,"file":"../../cli.js","sources":["webpack:///webpack/bootstrap dd807214dd1521c562c1","webpack:///./src/cli.js","webpack:///./src/server/commands/update/index.js","webpack:///./src/server/commands/update/servant.js","webpack:///./src/server/utils/logger.js","webpack:///./src/server/utils/scraper.js","webpack:///./src/server/models/index.js","webpack:///./src/server/models/counter.js","webpack:///./src/server/models/servant.js","webpack:///./src/server/models/prize.js","webpack:///./src/server/models/servant-ranking.js","webpack:///./src/server/models/spell-ranking.js","webpack:///./src/server/commands/update/prize.js","webpack:///./src/server/commands/update/servant-ranking.js","webpack:///./src/server/commands/update/spell-ranking.js","webpack:///./src/server/commands/download/index.js","webpack:///./src/server/commands/download/servant.js","webpack:///./src/server/commands/sprite/index.js","webpack:///./src/server/commands/sprite/servant.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap dd807214dd1521c562c1\n **/","'use strict';\n\nrequire('babel-polyfill');\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _commander = require('commander');\n\nvar _commander2 = _interopRequireDefault(_commander);\n\nvar _update = require('./server/commands/update');\n\nvar updateCommands = _interopRequireWildcard(_update);\n\nvar _download = require('./server/commands/download');\n\nvar downloadCommands = _interopRequireWildcard(_download);\n\nvar _sprite = require('./server/commands/sprite');\n\nvar spriteCommands = _interopRequireWildcard(_sprite);\n\nvar _logger = require('./server/utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar promise = null;\n\n_commander2.default.command('update-servant [url]').alias('ups').description('update servant data').option('-f, --force', 'force update', null, null).action(function (url, opts) {\n  promise = updateCommands.servant(url, opts.force);\n});\n\n_commander2.default.command('update-prize').alias('upp').description('update prize data').option('-f, --force', 'force update', null, null).action(function (opts) {\n  promise = updateCommands.prize(opts.force);\n});\n\n_commander2.default.command('update-ranking-servant').alias('uprs').description('update ranking servant data').option('-d, --date [date]', 'target date', null, null).option('--date-from [date]', 'target date from', null, null).option('--date-to [date]', 'target date to', null, null).option('-f, --force', 'force update', null, null).action(function (opts) {\n  promise = updateCommands.servantRanking(opts.date, opts.dateFrom, opts.dateTo, opts.force);\n});\n\n_commander2.default.command('update-ranking-spell').alias('uprp').description('update ranking spell data').option('-d, --date [date]', 'target date', null, null).option('--date-from [date]', 'target date from', null, null).option('--date-to [date]', 'target date to', null, null).option('-f, --force', 'force update', null, null).action(function (opts) {\n  promise = updateCommands.spellRanking(opts.date, opts.dateFrom, opts.dateTo, opts.force);\n});\n\n_commander2.default.command('download-servant').alias('dls').description('download servant images').option('-i, --id [id]', 'target servant id', null, null).option('-f, --force', 'force download', null, null).action(function (opts) {\n  promise = downloadCommands.servant(opts.id, opts.force);\n});\n\n_commander2.default.command('sprite-servant').alias('sps').description('create servant sprite image').action(function () {\n  promise = spriteCommands.servant();\n});\n\n_commander2.default.version('0.0.1').parse(process.argv);\n\nif (!promise) {\n  _commander2.default.help();\n}\n\npromise.then(function () {\n  _mongoose2.default.disconnect();\n}, function (reason) {\n  _mongoose2.default.disconnect();\n  _logger2.default.error(reason);\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/cli.js\n ** module id = 0\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _servant = require('./servant');\n\nObject.defineProperty(exports, 'servant', {\n  enumerable: true,\n  get: function get() {\n    return _servant.default;\n  }\n});\n\nvar _prize = require('./prize');\n\nObject.defineProperty(exports, 'prize', {\n  enumerable: true,\n  get: function get() {\n    return _prize.default;\n  }\n});\n\nvar _servantRanking = require('./servant-ranking');\n\nObject.defineProperty(exports, 'servantRanking', {\n  enumerable: true,\n  get: function get() {\n    return _servantRanking.default;\n  }\n});\n\nvar _spellRanking = require('./spell-ranking');\n\nObject.defineProperty(exports, 'spellRanking', {\n  enumerable: true,\n  get: function get() {\n    return _spellRanking.default;\n  }\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/update/index.js\n ** module id = 4\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (url, force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee() {\n    var urls, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, _url;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!url) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 3;\n            return updateOne(url, force);\n\n          case 3:\n            return _context.abrupt('return');\n\n          case 4:\n            _context.next = 6;\n            return getServantUrls();\n\n          case 6:\n            urls = _context.sent;\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 10;\n            _iterator = urls[Symbol.iterator]();\n\n          case 12:\n            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n              _context.next = 19;\n              break;\n            }\n\n            _url = _step.value;\n            _context.next = 16;\n            return updateOne(_url, force);\n\n          case 16:\n            _iteratorNormalCompletion = true;\n            _context.next = 12;\n            break;\n\n          case 19:\n            _context.next = 25;\n            break;\n\n          case 21:\n            _context.prev = 21;\n            _context.t0 = _context['catch'](10);\n            _didIteratorError = true;\n            _iteratorError = _context.t0;\n\n          case 25:\n            _context.prev = 25;\n            _context.prev = 26;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 28:\n            _context.prev = 28;\n\n            if (!_didIteratorError) {\n              _context.next = 31;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 31:\n            return _context.finish(28);\n\n          case 32:\n            return _context.finish(25);\n\n          case 33:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[10, 21, 25, 33], [26,, 28, 32]]);\n  }));\n};\n\nvar _co = require('co');\n\nvar _co2 = _interopRequireDefault(_co);\n\nvar _logger = require('../../utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _scraper = require('../../utils/scraper');\n\nvar scraper = _interopRequireWildcard(_scraper);\n\nvar _models = require('../../models');\n\nvar models = _interopRequireWildcard(_models);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction updateOne(url, force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee2() {\n    var servant, row;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return getServantWithUrl(url);\n\n          case 2:\n            servant = _context2.sent;\n            _context2.next = 5;\n            return findServant({ tribe_name: servant.tribe_name, tribe_code: servant.tribe_code });\n\n          case 5:\n            row = _context2.sent;\n\n            if (!row) {\n              _context2.next = 17;\n              break;\n            }\n\n            _logger2.default.verbose('Compare Update Date: new = %j, current = %j', servant.update_date.toUTCString(), row.update_date.toUTCString());\n\n            if (!(servant.update_date <= row.update_date && !force)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _logger2.default.verbose('Skip Update Servant: id = %s, tribe_name = %s, tribe_code = %s, name = %s', row._id, servant.tribe_name, servant.tribe_code, servant.name);\n            return _context2.abrupt('return');\n\n          case 11:\n            servant._id = row._id;\n            _logger2.default.info('Update Servant: id = %s, tribe_name = %s, tribe_code = %s, name = %s', servant._id, servant.tribe_name, servant.tribe_code, servant.name);\n            _context2.next = 15;\n            return updateServant(servant);\n\n          case 15:\n            _context2.next = 20;\n            break;\n\n          case 17:\n            _logger2.default.info('Create Servant: tribe_name = %s, tribe_code = %s, name = %s', servant.tribe_name, servant.tribe_code, servant.name);\n            _context2.next = 20;\n            return insertServant(servant);\n\n          case 20:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n}\n\nfunction findServant(args) {\n  return models.servant.findOne(args).exec();\n}\n\nfunction insertServant(args) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee3() {\n    var result, _id;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return models.counter.getNewId('servant');\n\n          case 2:\n            result = _context3.sent.result;\n            _id = result.value.seq;\n            _context3.next = 6;\n            return models.servant.update({ _id: _id }, args, { upsert: true }).exec();\n\n          case 6:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n}\n\nfunction updateServant(args) {\n  var _id = args._id;\n  delete args._id;\n  return models.servant.update({ _id: _id }, args, { upsert: true }).exec();\n}\n\nfunction getServantUrls() {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee4() {\n    var $, urls;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return scraper.fetchAllServantList();\n\n          case 2:\n            $ = _context4.sent.$;\n            urls = [];\n\n            $('#content_1001_1').next().next().find('table tbody tr').each(function () {\n              //let tribeParams = getTribeParam($(this).find('td:nth-child(3)').text())\n              //if (tribeParams[0] < tribe_id) {\n              //  return\n              //}\n              //if (tribeParams[0] === tribe_id && tribeParams[2] < tribe_code) {\n              //  return\n              //}\n              urls.push('http://wiki.4gamer.net' + $(this).find('td:nth-child(2) a').attr('href'));\n            });\n            return _context4.abrupt('return', urls);\n\n          case 6:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n}\n\nfunction getServantWithUrl(url) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee5() {\n    var $, section1, section2, table1, table2, table3, table4, tribeParams, servant, status, skill;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return scraper.fetch(url);\n\n          case 2:\n            $ = _context5.sent.$;\n            section1 = $('#content_1001_1');\n            section2 = $('#content_1001_2');\n            table1 = $('.servant_table > div:nth-child(1) table');\n            table2 = $('.servant_table > div:nth-child(2) table');\n            table3 = section1.nextAll('.table-type-1').first().find('table');\n            table4 = section2.nextAll('.table-type-1').first().find('table');\n            tribeParams = getTribeParam(table1.find('tr:nth-child(1) td:nth-child(2)').text());\n            servant = {};\n\n            servant.tribe_id = tribeParams[0];\n            servant.tribe_name = tribeParams[1];\n            servant.tribe_code = tribeParams[2];\n            servant.name = $('#page-main-title').text().replace(/[（\\(][^）\\)]*[）\\)]/i, '').trim();\n            servant.type = table1.find('tr:nth-child(1) td:nth-child(4)').text().trim();\n            servant.cost = Number(table1.find('tr:nth-child(2) td:nth-child(2)').text());\n            servant.range = Number(table1.find('tr:nth-child(2) td:nth-child(4)').text().replace(/^.*[（\\(]([^）\\)]*)[）\\)].*$/i, '$1'));\n            servant.release_date = parseDateString($('.servant_table').prev().text().trim().replace(/^.*：([^\\/\\s]+).*：.*$/i, '$1'));\n            servant.update_date = parseDateString($('.servant_table').prev().text().trim().replace(/^.*：.*：(\\d+)$/i, '$1'));\n            servant.illustration_by = table1.find('tr:nth-child(3) td:nth-child(2)').text().trim();\n            servant.character_voice = table1.find('tr:nth-child(3) td:nth-child(4)').text().trim();\n            servant.oral_tradition = $('#content_1001_0').next().text();\n\n            status = { 1: {}, 20: {} };\n\n            status[1].hp = Number(table2.find('tr:nth-child(2) td:nth-child(2)').text());\n            status[1].ap = Number(table2.find('tr:nth-child(3) td:nth-child(2)').text());\n            status[1].atk = Number(table2.find('tr:nth-child(4) td:nth-child(2)').text());\n            status[1].pow = Number(table2.find('tr:nth-child(5) td:nth-child(2)').text());\n            status[1].def = Number(table2.find('tr:nth-child(6) td:nth-child(2)').text());\n            status[1].res = Number(table2.find('tr:nth-child(7) td:nth-child(2)').text());\n            status[1].ms = Number(table2.find('tr:nth-child(8) td:nth-child(2)').text());\n            status[1].as = Number(table2.find('tr:nth-child(9) td:nth-child(2)').text());\n            status[20].hp = Number(table2.find('tr:nth-child(2) td:nth-child(3)').text());\n            status[20].ap = Number(table2.find('tr:nth-child(3) td:nth-child(3)').text());\n            status[20].atk = Number(table2.find('tr:nth-child(4) td:nth-child(3)').text());\n            status[20].pow = Number(table2.find('tr:nth-child(5) td:nth-child(3)').text());\n            status[20].def = Number(table2.find('tr:nth-child(6) td:nth-child(3)').text());\n            status[20].res = Number(table2.find('tr:nth-child(7) td:nth-child(3)').text());\n            status[20].ms = Number(table2.find('tr:nth-child(8) td:nth-child(2)').text());\n            status[20].as = Number(table2.find('tr:nth-child(9) td:nth-child(3)').text());\n            servant.status = status;\n\n            skill = { active: null, passive: null };\n\n            if (section1[0]) {\n              skill.active = {};\n              skill.active.name = section1.text().split('：')[1].trim();\n              skill.active.description = section1.nextAll('p').first().text().replace(/<br\\s*\\/?>/gi, \"\\n\").trim();\n              skill.active.designation = table3.find('tr:nth-child(1) td:nth-child(2)').text().replace(/[・･]/ig, ',').trim();\n              skill.active.effect = table3.find('tr:nth-child(1) td:nth-child(4)').text().replace(/[・･]/ig, ',').trim();\n              skill.active.ap = table3.find('tr:nth-child(2) td:nth-child(2)').text().replace(/\\s*\\/\\s*/ig, ',').trim().split(',');\n              skill.active.cd = table3.find('tr:nth-child(2) td:nth-child(4)').text().replace(/\\s*\\/\\s*/ig, ',').trim().split(',');\n            }\n            if (section2[0]) {\n              skill.passive = {};\n              skill.passive.name = section2.text().split('：')[1].trim();\n              skill.passive.description = section2.nextAll('p').first().text().replace(/<br\\s*\\/?>/gi, \"\\n\").trim();\n              skill.passive.designation = table4.find('tr:nth-child(1) td:nth-child(2)').text().replace(/[・･]/ig, ',').trim();\n              skill.passive.effect = table4.find('tr:nth-child(1) td:nth-child(4)').text().replace(/[・･]/ig, ',').trim();\n              skill.passive.ap = [];\n              skill.passive.cd = [];\n            }\n            servant.skill = skill;\n\n            servant = fixServant(servant);\n\n            return _context5.abrupt('return', servant);\n\n          case 47:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n}\n\nfunction parseDateString(input) {\n  var date = new Date(Date.UTC(Number(input.slice(0, 4)), Number(input.slice(4, 6)) - 1, Number(input.slice(6, 8))));\n  if (!isNaN(date.valueOf())) {\n    return date;\n  }\n  switch (input) {\n    case 'α1':\n      input = '20141017';break;\n    case 'α2':\n      input = '20141222';break;\n    case 'CBT':\n      input = '20150421';break;\n    case 'OBT':\n      input = '20150604';break;\n    case '正式':\n      input = '20150617';break;\n    default:\n      _logger2.default.warn('Invalid Date: input = %s', input);\n      break;\n  }\n  return new Date(Date.UTC(Number(input.slice(0, 4)), Number(input.slice(4, 6)) - 1, Number(input.slice(6, 8))));\n}\n\nfunction getTribeParam(input) {\n  var args = input.split('-');\n  return [[null, '人獣', '神族', '魔種', '海種', '不死'].indexOf(args[0]), args[0], Number(args[1])];\n}\n\nfunction fixServant(servant) {\n  // adjust name\n  servant.name = servant.name.replace('―', 'ー');\n\n  // fix servant tribe\n  if (servant.name === 'カイナッツォ') {\n    servant.tribe_name = '海種';\n    servant.tribe_id = 4;\n    servant.tribe_code = 4;\n  }\n  if (servant.name === 'シェラハ') {\n    servant.tribe_name = '海種';\n    servant.tribe_id = 4;\n    servant.tribe_code = 20;\n  }\n  if (servant.name === '水銀燈') {\n    servant.tribe_name = '不死';\n    servant.tribe_id = 5;\n    servant.tribe_code = 46;\n  }\n\n  // adjust illustration_by\n  if (servant.illustration_by === '―') {\n    servant.illustration_by = null;\n  }\n  // adjust character_voice\n  if (servant.character_voice === '―') {\n    servant.character_voice = null;\n  }\n  // fix skill\n  var _arr = ['active', 'passive'];\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var type = _arr[_i];\n    if (!servant.skill[type]) {\n      continue;\n    }\n    if (['スキルなし', 'なし'].indexOf(servant.skill[type].name) > -1) {\n      servant.skill[type] = null;\n      continue;\n    }\n    if (servant.skill[type].ap.length !== 3) {\n      servant.skill[type].ap = [];\n    }\n    if (servant.skill[type].cd.length !== 3) {\n      servant.skill[type].cd = [];\n    }\n    if (servant.skill[type].designation === '―') {\n      servant.skill[type].designation = null;\n    }\n  }\n  // fix status\n  var _arr2 = [1, 20];\n  for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n    var level = _arr2[_i2];\n    if (!servant.status[level]) {\n      continue;\n    }\n    if (isNaN(servant.status[level].hp)) {\n      servant.status[level] = null;\n    }\n  }\n  return servant;\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/update/servant.js\n ** module id = 5\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _winston = require('winston');\n\nvar _winston2 = _interopRequireDefault(_winston);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar logger = new _winston2.default.Logger({\n  transports: [new _winston2.default.transports.Console({ level: 'silly', timestamp: true })]\n});\nlogger.cli();\n\nexports.default = logger;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/utils/logger.js\n ** module id = 7\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fetch = fetch;\nexports.fetchArticle = fetchArticle;\nexports.fetchNotice = fetchNotice;\nexports.fetchServant = fetchServant;\nexports.fetchAllServantList = fetchAllServantList;\nexports.fetchServantRanking = fetchServantRanking;\nexports.fetchSpellRanking = fetchSpellRanking;\n\nvar _cheerioHttpcli = require('cheerio-httpcli');\n\nvar _cheerioHttpcli2 = _interopRequireDefault(_cheerioHttpcli);\n\nvar _logger = require('./logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// set ua\n_cheerioHttpcli2.default.setBrowser('chrome');\n_cheerioHttpcli2.default.headers['User-Agent'] += ' Lova Scraper Client/1.0.0';\n\nvar lovaSiteBasePath = 'http://lova.jp/';\nvar cacheSiteBasePath = 'http://cache.lova.jp/';\nvar wikiSiteBasePath = 'http://wiki.4gamer.net/lova/';\n\nfunction fetch(url) {\n  _logger2.default.verbose('Fetch Url: url = %s', url);\n  return _cheerioHttpcli2.default.fetch(url);\n}\n\nfunction fetchArticle(id) {\n  var url = lovaSiteBasePath + 'member/article.php';\n  if (id) {\n    url += '?no=' + id;\n  }\n  return fetch(url);\n}\n\nfunction fetchNotice(page) {\n  var url = lovaSiteBasePath + 'member/notice.php';\n  if (page) {\n    url += '?p=' + page;\n  }\n  return fetch(url);\n}\n\nfunction fetchServant(tribe_name, name) {\n  if (['ミミララ・レイア', 'ジャンヌ・ダルク'].indexOf(name) > -1) {\n    name = name.replace('・', '');\n  }\n  var url = wikiSiteBasePath + '%E4%BD%BF%E3%81%84%E9%AD%94/' + encodeURIComponent(tribe_name) + '/' + encodeURIComponent(name);\n  return fetch(url);\n}\n\nfunction fetchAllServantList() {\n  var url = wikiSiteBasePath + '%E4%BD%BF%E3%81%84%E9%AD%94';\n  return fetch(url);\n}\n\nfunction fetchServantRanking(date, mode, map, queue) {\n  var d = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));\n  d.setUTCDate(d.getUTCDate() + 1);\n  var dateString = d.getUTCFullYear() + ('00' + (d.getUTCMonth() + 1)).slice(-2) + ('00' + d.getUTCDate()).slice(-2) + '0500';\n  var path = undefined;\n  switch (mode) {\n    case 'win':\n      path = 'servantWinRate_weekly';\n      break;\n    case 'used':\n      path = 'servantUsedRate_weekly';\n      break;\n  }\n  switch (map) {\n    case 'all':\n      path += '_all';\n      break;\n    case 'vermilion':\n      path += '_7vs7';\n      break;\n    case 'braze':\n      path += '_5vs5';\n      break;\n  }\n  switch (queue) {\n    case 'all':\n      path += '_all';\n      break;\n    case 'normal':\n      path += '_normal';\n      break;\n    case 'solo':\n      path += '_league';\n      break;\n  }\n  path += '_all';\n  var url = cacheSiteBasePath + 'ranking/' + path + '/' + dateString + '/page1.json';\n  return fetch(url);\n}\n\nfunction fetchSpellRanking(date, map, queue) {\n  var d = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));\n  d.setUTCDate(d.getUTCDate() + 1);\n  var dateString = d.getUTCFullYear() + ('00' + (d.getUTCMonth() + 1)).slice(-2) + ('00' + d.getUTCDate()).slice(-2) + '0500';\n  var path = 'ultimatespell_weekly';\n  switch (map) {\n    case 'all':\n      path += '_all';\n      break;\n    case 'vermilion':\n      path += '_7vs7';\n      break;\n    case 'braze':\n      path += '_5vs5';\n      break;\n  }\n  switch (queue) {\n    case 'all':\n      path += '_all';\n      break;\n    case 'normal':\n      path += '_normal';\n      break;\n    case 'solo':\n      path += '_league';\n      break;\n  }\n  path += '_all';\n  var url = cacheSiteBasePath + 'ranking/' + path + '/' + dateString + '/page1.json';\n  return fetch(url);\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/utils/scraper.js\n ** module id = 9\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.spellRanking = exports.servantRanking = exports.prize = exports.servant = exports.counter = undefined;\n\nvar _counter = require('./counter');\n\nObject.defineProperty(exports, 'counter', {\n  enumerable: true,\n  get: function get() {\n    return _counter.default;\n  }\n});\n\nvar _servant = require('./servant');\n\nObject.defineProperty(exports, 'servant', {\n  enumerable: true,\n  get: function get() {\n    return _servant.default;\n  }\n});\n\nvar _prize = require('./prize');\n\nObject.defineProperty(exports, 'prize', {\n  enumerable: true,\n  get: function get() {\n    return _prize.default;\n  }\n});\n\nvar _servantRanking = require('./servant-ranking');\n\nObject.defineProperty(exports, 'servantRanking', {\n  enumerable: true,\n  get: function get() {\n    return _servantRanking.default;\n  }\n});\n\nvar _spellRanking = require('./spell-ranking');\n\nObject.defineProperty(exports, 'spellRanking', {\n  enumerable: true,\n  get: function get() {\n    return _spellRanking.default;\n  }\n});\n\nvar _url = require('url');\n\nvar _url2 = _interopRequireDefault(_url);\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _logger = require('../utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  host: process.env.OPENSHIFT_MONGODB_DB_HOST || '127.0.0.1',\n  port: process.env.OPENSHIFT_MONGODB_DB_PORT || 27017,\n  user: process.env.OPENSHIFT_MONGODB_DB_USERNAME,\n  pass: process.env.OPENSHIFT_MONGODB_DB_PASSWORD,\n  protocol: 'mongodb',\n  db: 'lova'\n};\n\nvar host = config.host;\nvar port = config.port;\nvar user = config.user;\nvar pass = config.pass;\nvar protocol = config.protocol;\nvar db = config.db;\n\nvar uri = _url2.default.format({\n  protocol: protocol + ':',\n  slashes: true,\n  auth: user && pass ? user + ':' + pass : null,\n  hostname: host,\n  port: port,\n  pathname: '/' + db\n});\n\n_mongoose2.default.connect(uri);\n\n_mongoose2.default.connection.on('connected', function () {\n  _logger2.default.info('Mongoose default connection open to ' + uri);\n});\n\n_mongoose2.default.connection.on('error', function (err) {\n  _logger2.default.error('Mongoose default connection error: ' + err);\n});\n\n_mongoose2.default.connection.on('disconnected', function () {\n  _logger2.default.info('Mongoose default connection disconnected');\n});\n\nprocess.on('SIGINT', function () {\n  _mongoose2.default.connection.close(function () {\n    _logger2.default.info('Mongoose default connection disconnected through app termination');\n    process.exit(0);\n  });\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/models/index.js\n ** module id = 11\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Schema = _mongoose2.default.Schema;\n\nvar CounterSchema = new Schema({\n  _id: String,\n  seq: Number\n});\n\nCounterSchema.statics.getNewId = function (name, callback) {\n  var _this = this;\n\n  return new Promise(function (resolve, reject) {\n    _this.collection.findAndModify({ _id: name }, [], { $inc: { seq: 1 } }, { new: true, upsert: true }, function (err, result) {\n      if (callback) {\n        callback(err, result);\n      }\n      if (err) {\n        reject({ err: err, result: result });\n        return;\n      }\n      resolve({ err: err, result: result });\n    });\n  });\n};\n\nexports.default = _mongoose2.default.model('counter', CounterSchema);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/models/counter.js\n ** module id = 12\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Schema = _mongoose2.default.Schema;\n\nvar ServantSchema = new Schema({\n  _id: { type: Number, require: true, unique: true },\n  tribe_id: { type: Number, require: true },\n  tribe_name: { type: String, require: true },\n  tribe_code: { type: Number, require: true },\n  type: String,\n  name: String,\n  cost: Number,\n  range: Number,\n  release_date: Date,\n  update_date: Date,\n  illustration_by: String,\n  character_voice: String,\n  oral_tradition: String,\n  skill: {\n    active: {\n      name: String,\n      designation: String,\n      effect: String,\n      description: String,\n      ap: [Number],\n      cd: [Number]\n    },\n    passive: {\n      name: String,\n      designation: String,\n      effect: String,\n      description: String,\n      ap: [Number],\n      cd: [Number]\n    }\n  },\n  status: {\n    1: {\n      hp: Number,\n      ap: Number,\n      atk: Number,\n      pow: Number,\n      def: Number,\n      res: Number,\n      ms: Number,\n      as: Number\n    },\n    20: {\n      hp: Number,\n      ap: Number,\n      atk: Number,\n      pow: Number,\n      def: Number,\n      res: Number,\n      ms: Number,\n      as: Number\n    }\n  }\n}, { id: false });\n\nServantSchema.virtual('id').get(function () {\n  return this._id;\n});\n\nServantSchema.set('toJSON', {\n  virtuals: true\n});\n\nexports.default = _mongoose2.default.model('servant', ServantSchema);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/models/servant.js\n ** module id = 13\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Schema = _mongoose2.default.Schema;\n\nvar PrizeSchema = new Schema({\n  _id: { type: Number, require: true, unique: true },\n  name: { type: String, require: true },\n  rate: { type: Number, require: true },\n  date: { type: Date, require: true }\n}, { id: false });\n\nPrizeSchema.virtual('id').get(function () {\n  return this._id;\n});\n\nPrizeSchema.set('toJSON', {\n  virtuals: true\n});\n\nexports.default = _mongoose2.default.model('prize', PrizeSchema);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/models/prize.js\n ** module id = 14\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Schema = _mongoose2.default.Schema;\n\nvar ServantrankingShema = new Schema({\n  _id: { type: Number, require: true, unique: true },\n  date: { type: Date, require: true },\n  mode: { type: String, require: true },\n  map: { type: String, require: true },\n  queue: { type: String, require: true },\n  servant_id: { type: Number, require: true },\n  seq: { type: Number, require: true },\n  rank: { type: Number, require: true },\n  score: { type: Number, require: true }\n}, { id: false });\n\nServantrankingShema.virtual('id').get(function () {\n  return this._id;\n});\n\nServantrankingShema.set('toJSON', {\n  virtuals: true\n});\n\nexports.default = _mongoose2.default.model('servantranking', ServantrankingShema);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/models/servant-ranking.js\n ** module id = 15\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Schema = _mongoose2.default.Schema;\n\nvar SpellrankingShema = new Schema({\n  _id: { type: Number, require: true, unique: true },\n  date: { type: Date, require: true },\n  map: { type: String, require: true },\n  queue: { type: String, require: true },\n  spell_id: { type: Number, require: true },\n  seq: { type: Number, require: true },\n  rank: { type: Number, require: true },\n  score: { type: Number, require: true }\n}, { id: false });\n\nSpellrankingShema.virtual('id').get(function () {\n  return this._id;\n});\n\nSpellrankingShema.set('toJSON', {\n  virtuals: true\n});\n\nexports.default = _mongoose2.default.model('spellranking', SpellrankingShema);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/models/spell-ranking.js\n ** module id = 16\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee() {\n    var prizes, date, results, summary;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return getPrizes();\n\n          case 2:\n            prizes = _context.sent;\n\n            if (prizes.length) {\n              _context.next = 5;\n              break;\n            }\n\n            throw new Error('Prize is Nothing');\n\n          case 5:\n            if (force) {\n              _context.next = 13;\n              break;\n            }\n\n            date = prizes[0].date;\n            _context.next = 9;\n            return findPrizes({ date: date });\n\n          case 9:\n            results = _context.sent;\n\n            if (!results.length) {\n              _context.next = 13;\n              break;\n            }\n\n            _logger2.default.verbose('Prize is Almost Exists: date = %s', date.toUTCString());\n            return _context.abrupt('return');\n\n          case 13:\n            summary = prizes.reduce(function (p, c) {\n              return p + c.rate * 100;\n            }, 0) / 100;\n\n            _logger2.default[summary === 1 ? 'info' : 'warn']('Total Rate Summary: summary = %s', summary.toFixed(2));\n\n            // clean prizes\n            _logger2.default.info('Truncate Prizes');\n            _context.next = 18;\n            return truncatePrizes();\n\n          case 18:\n\n            // insert prizes\n            _logger2.default.info('Insert Prizes: count = %d', prizes.length);\n            _context.next = 21;\n            return insertPrizes(prizes);\n\n          case 21:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n};\n\nvar _co = require('co');\n\nvar _co2 = _interopRequireDefault(_co);\n\nvar _logger = require('../../utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _scraper = require('../../utils/scraper');\n\nvar scraper = _interopRequireWildcard(_scraper);\n\nvar _models = require('../../models');\n\nvar models = _interopRequireWildcard(_models);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\nvar fetchMaxPage = 5;\n\nfunction findPrizes(args) {\n  return models.prize.find(args).exec();\n}\n\nfunction insertPrizes(prizes) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee2() {\n    var i, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, prize;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            i = 0;\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context2.prev = 4;\n            _iterator = prizes[Symbol.iterator]();\n\n          case 6:\n            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n              _context2.next = 14;\n              break;\n            }\n\n            prize = _step.value;\n\n            prize._id = ++i;\n            _context2.next = 11;\n            return insertPrize(prize);\n\n          case 11:\n            _iteratorNormalCompletion = true;\n            _context2.next = 6;\n            break;\n\n          case 14:\n            _context2.next = 20;\n            break;\n\n          case 16:\n            _context2.prev = 16;\n            _context2.t0 = _context2['catch'](4);\n            _didIteratorError = true;\n            _iteratorError = _context2.t0;\n\n          case 20:\n            _context2.prev = 20;\n            _context2.prev = 21;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 23:\n            _context2.prev = 23;\n\n            if (!_didIteratorError) {\n              _context2.next = 26;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 26:\n            return _context2.finish(23);\n\n          case 27:\n            return _context2.finish(20);\n\n          case 28:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[4, 16, 20, 28], [21,, 23, 27]]);\n  }));\n}\n\nfunction insertPrize(args) {\n  var _id = args._id;\n  delete args._id;\n  return models.prize.update({ _id: _id }, args, { upsert: true }).exec();\n}\n\nfunction truncatePrizes() {\n  return models.prize.remove({}).exec();\n}\n\nfunction getPrizes() {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee3() {\n    var id, $, panel, text, matches, date, prizes, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, matchText, ms;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return getRecentPrizeArticleId();\n\n          case 2:\n            id = _context3.sent;\n\n            if (id) {\n              _context3.next = 5;\n              break;\n            }\n\n            throw new Error('Prize Notice is Not Found');\n\n          case 5:\n            _context3.next = 7;\n            return scraper.fetchArticle(id);\n\n          case 7:\n            $ = _context3.sent.$;\n            panel = $('#mainpanel');\n            text = panel.find('div.subsection_frame').text();\n            matches = text.match(/・([^：]+)：([^%％]+)[%％]/gi);\n\n            if (matches.length) {\n              _context3.next = 13;\n              break;\n            }\n\n            return _context3.abrupt('return', []);\n\n          case 13:\n            date = new Date(panel.find('div.article_title span.date').text());\n\n            date = new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate()));\n            prizes = [];\n            _iteratorNormalCompletion2 = true;\n            _didIteratorError2 = false;\n            _iteratorError2 = undefined;\n            _context3.prev = 19;\n\n            for (_iterator2 = matches[Symbol.iterator](); !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              matchText = _step2.value;\n              ms = matchText.match(/・([^：]+)：([^%％]+)[%％]/i);\n\n              if (ms) {\n                prizes.push({\n                  date: date,\n                  name: ms[1].trim(),\n                  rate: ms[2].trim() / 100\n                });\n              }\n            }\n            _context3.next = 27;\n            break;\n\n          case 23:\n            _context3.prev = 23;\n            _context3.t0 = _context3['catch'](19);\n            _didIteratorError2 = true;\n            _iteratorError2 = _context3.t0;\n\n          case 27:\n            _context3.prev = 27;\n            _context3.prev = 28;\n\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n\n          case 30:\n            _context3.prev = 30;\n\n            if (!_didIteratorError2) {\n              _context3.next = 33;\n              break;\n            }\n\n            throw _iteratorError2;\n\n          case 33:\n            return _context3.finish(30);\n\n          case 34:\n            return _context3.finish(27);\n\n          case 35:\n            return _context3.abrupt('return', prizes);\n\n          case 36:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[19, 23, 27, 35], [28,, 30, 34]]);\n  }));\n}\n\nfunction getRecentPrizeArticleId() {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee4() {\n    var _this = this;\n\n    var _loop, i, _ret;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _loop = regeneratorRuntime.mark(function _loop(i) {\n              var $, id;\n              return regeneratorRuntime.wrap(function _loop$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      _context4.next = 2;\n                      return scraper.fetchNotice(i);\n\n                    case 2:\n                      $ = _context4.sent.$;\n                      id = undefined;\n\n                      $('#information_panel').find('div.tab_topics ul.page_inner li a').each(function () {\n                        var title = $(this).find('span:last-child').text();\n                        if (title.match(/「転成儀」.*更新のお知らせ/i)) {\n                          id = $(this).attr('href').split('no=')[1];\n                          return false;\n                        }\n                      });\n\n                      if (!id) {\n                        _context4.next = 7;\n                        break;\n                      }\n\n                      return _context4.abrupt('return', {\n                        v: id\n                      });\n\n                    case 7:\n                    case 'end':\n                      return _context4.stop();\n                  }\n                }\n              }, _loop, _this);\n            });\n            i = 1;\n\n          case 2:\n            if (!(i <= fetchMaxPage)) {\n              _context5.next = 10;\n              break;\n            }\n\n            return _context5.delegateYield(_loop(i), 't0', 4);\n\n          case 4:\n            _ret = _context5.t0;\n\n            if (!((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\")) {\n              _context5.next = 7;\n              break;\n            }\n\n            return _context5.abrupt('return', _ret.v);\n\n          case 7:\n            i++;\n            _context5.next = 2;\n            break;\n\n          case 10:\n            return _context5.abrupt('return', null);\n\n          case 11:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/update/prize.js\n ** module id = 18\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (date, dateFrom, dateTo, force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee() {\n    var from, to, _d, _d2, servantMap, d, _arr, _i, mode, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, map, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, queue;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            from = undefined, to = undefined;\n\n            if (!date) {\n              _context.next = 9;\n              break;\n            }\n\n            _d = new Date(date);\n\n            _d = new Date(Date.UTC(_d.getUTCFullYear(), _d.getUTCMonth(), _d.getUTCDate()));\n\n            if (!isNaN(_d.valueOf())) {\n              _context.next = 6;\n              break;\n            }\n\n            throw new Error('Invalid Date: ' + date);\n\n          case 6:\n            from = to = _d;\n            _context.next = 23;\n            break;\n\n          case 9:\n            if (!(dateFrom && dateTo)) {\n              _context.next = 20;\n              break;\n            }\n\n            from = new Date(dateFrom);\n            from = new Date(Date.UTC(from.getUTCFullYear(), from.getUTCMonth(), from.getUTCDate()));\n\n            if (!isNaN(from.valueOf())) {\n              _context.next = 14;\n              break;\n            }\n\n            throw new Error('Invalid Date: ' + dateFrom);\n\n          case 14:\n            to = new Date(dateTo);\n            to = new Date(Date.UTC(to.getUTCFullYear(), to.getUTCMonth(), to.getUTCDate()));\n\n            if (!isNaN(to.valueOf())) {\n              _context.next = 18;\n              break;\n            }\n\n            throw new Error('Invalid Date: ' + dateTo);\n\n          case 18:\n            _context.next = 23;\n            break;\n\n          case 20:\n            // today if empty\n            _d2 = new Date();\n\n            _d2 = new Date(Date.UTC(_d2.getUTCFullYear(), _d2.getUTCMonth(), _d2.getUTCDate()));\n            from = to = _d2;\n\n          case 23:\n            _context.next = 25;\n            return getServantMap();\n\n          case 25:\n            servantMap = _context.sent;\n            d = from;\n\n          case 27:\n            if (!(d <= to)) {\n              _context.next = 88;\n              break;\n            }\n\n            _arr = ['win', 'used'];\n            _i = 0;\n\n          case 30:\n            if (!(_i < _arr.length)) {\n              _context.next = 85;\n              break;\n            }\n\n            mode = _arr[_i];\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 35;\n            _iterator = maps[Symbol.iterator]();\n\n          case 37:\n            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n              _context.next = 68;\n              break;\n            }\n\n            map = _step.value;\n            _iteratorNormalCompletion2 = true;\n            _didIteratorError2 = false;\n            _iteratorError2 = undefined;\n            _context.prev = 42;\n            _iterator2 = queues[Symbol.iterator]();\n\n          case 44:\n            if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {\n              _context.next = 51;\n              break;\n            }\n\n            queue = _step2.value;\n            _context.next = 48;\n            return updateRanking(d, mode, map, queue, servantMap, force);\n\n          case 48:\n            _iteratorNormalCompletion2 = true;\n            _context.next = 44;\n            break;\n\n          case 51:\n            _context.next = 57;\n            break;\n\n          case 53:\n            _context.prev = 53;\n            _context.t0 = _context['catch'](42);\n            _didIteratorError2 = true;\n            _iteratorError2 = _context.t0;\n\n          case 57:\n            _context.prev = 57;\n            _context.prev = 58;\n\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n\n          case 60:\n            _context.prev = 60;\n\n            if (!_didIteratorError2) {\n              _context.next = 63;\n              break;\n            }\n\n            throw _iteratorError2;\n\n          case 63:\n            return _context.finish(60);\n\n          case 64:\n            return _context.finish(57);\n\n          case 65:\n            _iteratorNormalCompletion = true;\n            _context.next = 37;\n            break;\n\n          case 68:\n            _context.next = 74;\n            break;\n\n          case 70:\n            _context.prev = 70;\n            _context.t1 = _context['catch'](35);\n            _didIteratorError = true;\n            _iteratorError = _context.t1;\n\n          case 74:\n            _context.prev = 74;\n            _context.prev = 75;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 77:\n            _context.prev = 77;\n\n            if (!_didIteratorError) {\n              _context.next = 80;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 80:\n            return _context.finish(77);\n\n          case 81:\n            return _context.finish(74);\n\n          case 82:\n            _i++;\n            _context.next = 30;\n            break;\n\n          case 85:\n            d = new Date(Date.UTC(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate() + 1));\n            _context.next = 27;\n            break;\n\n          case 88:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[35, 70, 74, 82], [42, 53, 57, 65], [58,, 60, 64], [75,, 77, 81]]);\n  }));\n};\n\nvar _co = require('co');\n\nvar _co2 = _interopRequireDefault(_co);\n\nvar _logger = require('../../utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _scraper = require('../../utils/scraper');\n\nvar scraper = _interopRequireWildcard(_scraper);\n\nvar _models = require('../../models');\n\nvar models = _interopRequireWildcard(_models);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar maps = ['all', 'vermilion', 'braze'];\nvar queues = ['all', 'normal', 'solo'];\n\nfunction updateRanking(date, mode, map, queue, servantMap, force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee2() {\n    var results, rankings, data, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, d;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _logger2.default.verbose('Update Servant Ranking Begin: date = %s (%s, %s, %s)', date.toUTCString(), mode, map, queue);\n\n            _context2.next = 3;\n            return findRanking({ date: date, mode: mode, map: map, queue: queue });\n\n          case 3:\n            results = _context2.sent;\n\n            if (!results.length) {\n              _context2.next = 11;\n              break;\n            }\n\n            if (force) {\n              _context2.next = 8;\n              break;\n            }\n\n            _logger2.default.verbose('Servant Ranking is Almost Exists');\n            return _context2.abrupt('return');\n\n          case 8:\n\n            // delete\n            _logger2.default.info('Delete Servant Ranking');\n            _context2.next = 11;\n            return deleteRanking({ date: date, mode: mode, map: map, queue: queue });\n\n          case 11:\n            _context2.next = 13;\n            return getRanking(date, mode, map, queue);\n\n          case 13:\n            rankings = _context2.sent;\n\n            if (rankings) {\n              _context2.next = 17;\n              break;\n            }\n\n            _logger2.default.warn('Servant Ranking Data is Nothing');\n            return _context2.abrupt('return');\n\n          case 17:\n            data = rankings.map(function (ranking) {\n              return {\n                date: date,\n                mode: mode,\n                map: map,\n                queue: queue,\n                servant_id: servantMap[ranking.tribe][Number(ranking.id)],\n                seq: ranking.seq,\n                rank: ranking.rank,\n                score: ranking.score\n              };\n            });\n\n            // insert\n\n            _logger2.default.info('Insert Servant Ranking');\n            _iteratorNormalCompletion3 = true;\n            _didIteratorError3 = false;\n            _iteratorError3 = undefined;\n            _context2.prev = 22;\n            _iterator3 = data[Symbol.iterator]();\n\n          case 24:\n            if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {\n              _context2.next = 31;\n              break;\n            }\n\n            d = _step3.value;\n            _context2.next = 28;\n            return insertRanking(d);\n\n          case 28:\n            _iteratorNormalCompletion3 = true;\n            _context2.next = 24;\n            break;\n\n          case 31:\n            _context2.next = 37;\n            break;\n\n          case 33:\n            _context2.prev = 33;\n            _context2.t0 = _context2['catch'](22);\n            _didIteratorError3 = true;\n            _iteratorError3 = _context2.t0;\n\n          case 37:\n            _context2.prev = 37;\n            _context2.prev = 38;\n\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n              _iterator3.return();\n            }\n\n          case 40:\n            _context2.prev = 40;\n\n            if (!_didIteratorError3) {\n              _context2.next = 43;\n              break;\n            }\n\n            throw _iteratorError3;\n\n          case 43:\n            return _context2.finish(40);\n\n          case 44:\n            return _context2.finish(37);\n\n          case 45:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[22, 33, 37, 45], [38,, 40, 44]]);\n  }));\n}\n\nfunction findRanking(args) {\n  return models.servantRanking.find(args).exec();\n}\n\nfunction deleteRanking(args) {\n  return models.servantRanking.remove(args).exec();\n}\n\nfunction insertRanking(args) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee3() {\n    var result, _id;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return models.counter.getNewId('servantranking');\n\n          case 2:\n            result = _context3.sent.result;\n            _id = result.value.seq;\n            _context3.next = 6;\n            return models.servantRanking.update({ _id: _id }, args, { upsert: true }).exec();\n\n          case 6:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n}\n\nfunction getRanking(date, mode, map, queue) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee4() {\n    var body;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return scraper.fetchServantRanking(date, mode, map, queue);\n\n          case 2:\n            body = _context4.sent.body;\n            return _context4.abrupt('return', JSON.parse(body.match(/^\\w+\\((.*)\\);$/i)[1]));\n\n          case 4:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  })).then(null, function () {\n    return null;\n  });\n}\n\nfunction getServantMap() {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee5() {\n    var servants, map, _iteratorNormalCompletion4, _didIteratorError4, _iteratorError4, _iterator4, _step4, servant, tribeName;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return models.servant.find({}).exec();\n\n          case 2:\n            servants = _context5.sent;\n            map = {};\n            _iteratorNormalCompletion4 = true;\n            _didIteratorError4 = false;\n            _iteratorError4 = undefined;\n            _context5.prev = 7;\n\n            for (_iterator4 = servants[Symbol.iterator](); !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n              servant = _step4.value;\n              tribeName = getTribeName(servant.tribe_id);\n\n              if (!map[tribeName]) {\n                map[tribeName] = {};\n              }\n              map[tribeName][servant.tribe_code] = servant._id;\n            }\n            _context5.next = 15;\n            break;\n\n          case 11:\n            _context5.prev = 11;\n            _context5.t0 = _context5['catch'](7);\n            _didIteratorError4 = true;\n            _iteratorError4 = _context5.t0;\n\n          case 15:\n            _context5.prev = 15;\n            _context5.prev = 16;\n\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n              _iterator4.return();\n            }\n\n          case 18:\n            _context5.prev = 18;\n\n            if (!_didIteratorError4) {\n              _context5.next = 21;\n              break;\n            }\n\n            throw _iteratorError4;\n\n          case 21:\n            return _context5.finish(18);\n\n          case 22:\n            return _context5.finish(15);\n\n          case 23:\n            return _context5.abrupt('return', servants.reduce(function (previous, current) {\n              var tribeName = getTribeName(current.tribe_id);\n              if (!previous[tribeName]) {\n                previous[tribeName] = {};\n              }\n              previous[tribeName][current.tribe_code] = current._id;\n              return previous;\n            }, {}));\n\n          case 24:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[7, 11, 15, 23], [16,, 18, 22]]);\n  }));\n}\n\nfunction getTribeName(tribeId) {\n  return [null, 'bst', 'hly', 'dvl', 'sea', 'und'][tribeId];\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/update/servant-ranking.js\n ** module id = 19\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (date, dateFrom, dateTo, force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee() {\n    var from, to, _d, _d2, d, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, map, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, queue;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            from = undefined, to = undefined;\n\n            if (!date) {\n              _context.next = 9;\n              break;\n            }\n\n            _d = new Date(date);\n\n            _d = new Date(Date.UTC(_d.getUTCFullYear(), _d.getUTCMonth(), _d.getUTCDate()));\n\n            if (!isNaN(_d.valueOf())) {\n              _context.next = 6;\n              break;\n            }\n\n            throw new Error('Invalid Date: ' + date);\n\n          case 6:\n            from = to = _d;\n            _context.next = 23;\n            break;\n\n          case 9:\n            if (!(dateFrom && dateTo)) {\n              _context.next = 20;\n              break;\n            }\n\n            from = new Date(dateFrom);\n            from = new Date(Date.UTC(from.getUTCFullYear(), from.getUTCMonth(), from.getUTCDate()));\n\n            if (!isNaN(from.valueOf())) {\n              _context.next = 14;\n              break;\n            }\n\n            throw new Error('Invalid Date: ' + dateFrom);\n\n          case 14:\n            to = new Date(dateTo);\n            to = new Date(Date.UTC(to.getUTCFullYear(), to.getUTCMonth(), to.getUTCDate()));\n\n            if (!isNaN(to.valueOf())) {\n              _context.next = 18;\n              break;\n            }\n\n            throw new Error('Invalid Date: ' + dateTo);\n\n          case 18:\n            _context.next = 23;\n            break;\n\n          case 20:\n            // today if empty\n            _d2 = new Date();\n\n            _d2 = new Date(Date.UTC(_d2.getUTCFullYear(), _d2.getUTCMonth(), _d2.getUTCDate()));\n            from = to = _d2;\n\n          case 23:\n            d = from;\n\n          case 24:\n            if (!(d <= to)) {\n              _context.next = 78;\n              break;\n            }\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 28;\n            _iterator = maps[Symbol.iterator]();\n\n          case 30:\n            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n              _context.next = 61;\n              break;\n            }\n\n            map = _step.value;\n            _iteratorNormalCompletion2 = true;\n            _didIteratorError2 = false;\n            _iteratorError2 = undefined;\n            _context.prev = 35;\n            _iterator2 = queues[Symbol.iterator]();\n\n          case 37:\n            if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {\n              _context.next = 44;\n              break;\n            }\n\n            queue = _step2.value;\n            _context.next = 41;\n            return updateRanking(d, map, queue, force);\n\n          case 41:\n            _iteratorNormalCompletion2 = true;\n            _context.next = 37;\n            break;\n\n          case 44:\n            _context.next = 50;\n            break;\n\n          case 46:\n            _context.prev = 46;\n            _context.t0 = _context['catch'](35);\n            _didIteratorError2 = true;\n            _iteratorError2 = _context.t0;\n\n          case 50:\n            _context.prev = 50;\n            _context.prev = 51;\n\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n\n          case 53:\n            _context.prev = 53;\n\n            if (!_didIteratorError2) {\n              _context.next = 56;\n              break;\n            }\n\n            throw _iteratorError2;\n\n          case 56:\n            return _context.finish(53);\n\n          case 57:\n            return _context.finish(50);\n\n          case 58:\n            _iteratorNormalCompletion = true;\n            _context.next = 30;\n            break;\n\n          case 61:\n            _context.next = 67;\n            break;\n\n          case 63:\n            _context.prev = 63;\n            _context.t1 = _context['catch'](28);\n            _didIteratorError = true;\n            _iteratorError = _context.t1;\n\n          case 67:\n            _context.prev = 67;\n            _context.prev = 68;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 70:\n            _context.prev = 70;\n\n            if (!_didIteratorError) {\n              _context.next = 73;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 73:\n            return _context.finish(70);\n\n          case 74:\n            return _context.finish(67);\n\n          case 75:\n            d = new Date(Date.UTC(d.getUTCFullYear(), d.getUTCMonth(), d.getUTCDate() + 1));\n            _context.next = 24;\n            break;\n\n          case 78:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[28, 63, 67, 75], [35, 46, 50, 58], [51,, 53, 57], [68,, 70, 74]]);\n  }));\n};\n\nvar _co = require('co');\n\nvar _co2 = _interopRequireDefault(_co);\n\nvar _logger = require('../../utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _scraper = require('../../utils/scraper');\n\nvar scraper = _interopRequireWildcard(_scraper);\n\nvar _models = require('../../models');\n\nvar models = _interopRequireWildcard(_models);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar maps = ['all', 'vermilion', 'braze'];\nvar queues = ['all', 'normal', 'solo'];\n\nfunction updateRanking(date, map, queue, force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee2() {\n    var results, rankings, data, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, d;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _logger2.default.verbose('Update Spell Ranking Begin: date = %s (%s, %s)', date.toUTCString(), map, queue);\n\n            _context2.next = 3;\n            return findRanking({ date: date, map: map, queue: queue });\n\n          case 3:\n            results = _context2.sent;\n\n            if (!results.length) {\n              _context2.next = 11;\n              break;\n            }\n\n            if (force) {\n              _context2.next = 8;\n              break;\n            }\n\n            _logger2.default.verbose('Spell Ranking is Almost Exists');\n            return _context2.abrupt('return');\n\n          case 8:\n\n            // delete\n            _logger2.default.info('Delete Spell Ranking');\n            _context2.next = 11;\n            return deleteRanking({ date: date, map: map, queue: queue });\n\n          case 11:\n            _context2.next = 13;\n            return getRanking(date, map, queue);\n\n          case 13:\n            rankings = _context2.sent;\n\n            if (rankings) {\n              _context2.next = 17;\n              break;\n            }\n\n            _logger2.default.warn('Spell Ranking Data is Nothing');\n            return _context2.abrupt('return');\n\n          case 17:\n            data = rankings.map(function (ranking) {\n              return {\n                date: date,\n                map: map,\n                queue: queue,\n                spell_id: getSpellIdWithName(ranking.name),\n                seq: ranking.seq,\n                rank: ranking.rank,\n                score: ranking.score\n              };\n            });\n\n            // insert\n\n            _logger2.default.info('Insert Ranking Ranking');\n            _iteratorNormalCompletion3 = true;\n            _didIteratorError3 = false;\n            _iteratorError3 = undefined;\n            _context2.prev = 22;\n            _iterator3 = data[Symbol.iterator]();\n\n          case 24:\n            if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {\n              _context2.next = 31;\n              break;\n            }\n\n            d = _step3.value;\n            _context2.next = 28;\n            return insertRanking(d);\n\n          case 28:\n            _iteratorNormalCompletion3 = true;\n            _context2.next = 24;\n            break;\n\n          case 31:\n            _context2.next = 37;\n            break;\n\n          case 33:\n            _context2.prev = 33;\n            _context2.t0 = _context2['catch'](22);\n            _didIteratorError3 = true;\n            _iteratorError3 = _context2.t0;\n\n          case 37:\n            _context2.prev = 37;\n            _context2.prev = 38;\n\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n              _iterator3.return();\n            }\n\n          case 40:\n            _context2.prev = 40;\n\n            if (!_didIteratorError3) {\n              _context2.next = 43;\n              break;\n            }\n\n            throw _iteratorError3;\n\n          case 43:\n            return _context2.finish(40);\n\n          case 44:\n            return _context2.finish(37);\n\n          case 45:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[22, 33, 37, 45], [38,, 40, 44]]);\n  }));\n}\n\nfunction findRanking(args) {\n  return models.spellRanking.find(args).exec();\n}\n\nfunction deleteRanking(args) {\n  return models.spellRanking.remove(args).exec();\n}\n\nfunction insertRanking(args) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee3() {\n    var result, _id;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return models.counter.getNewId('spellranking');\n\n          case 2:\n            result = _context3.sent.result;\n            _id = result.value.seq;\n            _context3.next = 6;\n            return models.spellRanking.update({ _id: _id }, args, { upsert: true }).exec();\n\n          case 6:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n}\n\nfunction getRanking(date, map, queue) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee4() {\n    var body;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return scraper.fetchSpellRanking(date, map, queue);\n\n          case 2:\n            body = _context4.sent.body;\n            return _context4.abrupt('return', JSON.parse(body.match(/^\\w+\\((.*)\\);$/i)[1]));\n\n          case 4:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  })).then(null, function () {\n    return null;\n  });\n}\n\nfunction getSpellIdWithName(name) {\n  return [null, 'キュアオール', 'リターンゲート', 'パワーライズ', 'クイックドライブ', 'リザレクション', 'フォースフィールド', 'クレアボヤンス', 'クロノフリーズ', 'リモートサモン'].indexOf(name);\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/update/spell-ranking.js\n ** module id = 20\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _servant = require('./servant');\n\nObject.defineProperty(exports, 'servant', {\n  enumerable: true,\n  get: function get() {\n    return _servant.default;\n  }\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/download/index.js\n ** module id = 21\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (id, force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee() {\n    var servants, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, servant;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            servants = undefined;\n\n            if (!id) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 4;\n            return findServants({ _id: id });\n\n          case 4:\n            servants = _context.sent;\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.next = 9;\n            return findServants({});\n\n          case 9:\n            servants = _context.sent;\n\n          case 10:\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 13;\n            _iterator = servants[Symbol.iterator]();\n\n          case 15:\n            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n              _context.next = 22;\n              break;\n            }\n\n            servant = _step.value;\n            _context.next = 19;\n            return save(servant, force);\n\n          case 19:\n            _iteratorNormalCompletion = true;\n            _context.next = 15;\n            break;\n\n          case 22:\n            _context.next = 28;\n            break;\n\n          case 24:\n            _context.prev = 24;\n            _context.t0 = _context['catch'](13);\n            _didIteratorError = true;\n            _iteratorError = _context.t0;\n\n          case 28:\n            _context.prev = 28;\n            _context.prev = 29;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 31:\n            _context.prev = 31;\n\n            if (!_didIteratorError) {\n              _context.next = 34;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 34:\n            return _context.finish(31);\n\n          case 35:\n            return _context.finish(28);\n\n          case 36:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[13, 24, 28, 36], [29,, 31, 35]]);\n  }));\n};\n\nvar _co = require('co');\n\nvar _co2 = _interopRequireDefault(_co);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _request = require('request');\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _logger = require('../../utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _scraper = require('../../utils/scraper');\n\nvar scraper = _interopRequireWildcard(_scraper);\n\nvar _models = require('../../models');\n\nvar models = _interopRequireWildcard(_models);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar lwip = null;\nif (!process.env.OPENSHIFT_APP_DNS) {\n  lwip = require('lwip');\n}\n\nvar imageDir = './public/assets/img/';\n\nfunction findServants(args) {\n  return models.servant.find(args).sort({ _id: 1 }).exec();\n}\n\nfunction save(servant, force) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee2() {\n    var clipImagePath, largeImagePath, middleImagePath, clipUrl, url;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _logger2.default.verbose('Begin Download Servant Image: id = %d', servant.id);\n\n            clipImagePath = imageDir + 'clip/' + servant.id + '.jpg';\n            largeImagePath = imageDir + 'l/' + servant.id + '.jpg';\n            middleImagePath = imageDir + 'm/' + servant.id + '.jpg';\n            _context2.t2 = !force;\n\n            if (!_context2.t2) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 8;\n            return exists(clipImagePath);\n\n          case 8:\n            _context2.t2 = _context2.sent;\n\n          case 9:\n            _context2.t1 = _context2.t2;\n\n            if (!_context2.t1) {\n              _context2.next = 14;\n              break;\n            }\n\n            _context2.next = 13;\n            return exists(largeImagePath);\n\n          case 13:\n            _context2.t1 = _context2.sent;\n\n          case 14:\n            _context2.t0 = _context2.t1;\n\n            if (!_context2.t0) {\n              _context2.next = 19;\n              break;\n            }\n\n            _context2.next = 18;\n            return exists(middleImagePath);\n\n          case 18:\n            _context2.t0 = _context2.sent;\n\n          case 19:\n            if (!_context2.t0) {\n              _context2.next = 22;\n              break;\n            }\n\n            _logger2.default.verbose('Image File is Almost Exists');\n            return _context2.abrupt('return');\n\n          case 22:\n            _context2.next = 24;\n            return getClipImageUrlWithServant(servant);\n\n          case 24:\n            clipUrl = _context2.sent;\n            _context2.next = 27;\n            return getImageUrlWithServant(servant);\n\n          case 27:\n            url = _context2.sent;\n\n            if (!(!clipUrl || !url)) {\n              _context2.next = 30;\n              break;\n            }\n\n            throw new Error('Image Url is Not Found');\n\n          case 30:\n            _context2.next = 32;\n            return download(clipUrl, clipImagePath);\n\n          case 32:\n            _context2.next = 34;\n            return download(url, largeImagePath);\n\n          case 34:\n            _context2.next = 36;\n            return scale(largeImagePath, middleImagePath, 150 / 640);\n\n          case 36:\n            _context2.next = 38;\n            return compress(middleImagePath, middleImagePath, { quality: 50 });\n\n          case 38:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n}\n\nfunction getImageUrlWithServant(servant) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee3() {\n    var $;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return scraper.fetchServant(servant.tribe_name, servant.name);\n\n          case 2:\n            $ = _context3.sent.$;\n            return _context3.abrupt('return', $('#rendered-body').find('> div:first-child img').attr('src'));\n\n          case 4:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n}\n\nfunction getClipImageUrlWithServant(servant) {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee4() {\n    var $, tribeNameAndCode;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return scraper.fetchAllServantList();\n\n          case 2:\n            $ = _context4.sent.$;\n            tribeNameAndCode = servant.tribe_name + '-' + _.padLeft(servant.tribe_code, 3, 0);\n            return _context4.abrupt('return', $('#content_1001_1').next().next().find('table tbody tr td:contains(' + tribeNameAndCode + ')').prev().prev().find('a img').attr('src'));\n\n          case 5:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n}\n\nfunction exists(path) {\n  return new Promise(function (resolve) {\n    _fs2.default.stat(path, function (err) {\n      if (err == null) {\n        resolve(true);\n        return;\n      }\n      resolve(false);\n    });\n  });\n}\n\nfunction download(url, path) {\n  return new Promise(function (resolve) {\n    _logger2.default.verbose('Download Image: url = %s', url);\n\n    _request2.default.get(url)\n    //.on('response', function(res) {\n    //  console.log('statusCode: ', res.statusCode)\n    //  console.log('content-length: ', res.headers['content-length'])\n    //})\n    .pipe(_fs2.default.createWriteStream(path).on('close', function () {\n      resolve();\n    }));\n  });\n}\n\nfunction scale(orgPath, distPath, ratio) {\n  return new Promise(function (resolve, reject) {\n    lwip.open(orgPath, function (err, image) {\n      image.batch().scale(ratio, ratio, 'lanczos').writeFile(distPath, 'jpg', {}, function (err) {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve();\n      });\n    });\n  });\n}\n\nfunction compress(orgPath, distPath, params) {\n  return new Promise(function (resolve, reject) {\n    lwip.open(orgPath, function (err, image) {\n      image.toBuffer('jpg', params, function (err, buffer) {\n        lwip.open(buffer, 'jpg', function (err, image) {\n          image.writeFile(distPath, 'jpg', {}, function (err) {\n            if (err) {\n              reject(err);\n              return;\n            }\n            resolve();\n          });\n        });\n      });\n    });\n  });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/download/servant.js\n ** module id = 22\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _servant = require('./servant');\n\nObject.defineProperty(exports, 'servant', {\n  enumerable: true,\n  get: function get() {\n    return _servant.default;\n  }\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/sprite/index.js\n ** module id = 27\n ** module chunks = 0\n **/","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function () {\n  return (0, _co2.default)(regeneratorRuntime.mark(function _callee() {\n    var servants, tribes, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, servant, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, tribeId;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return findServants({});\n\n          case 2:\n            servants = _context.sent;\n            tribes = new Map();\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 7;\n\n            for (_iterator = servants[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              servant = _step.value;\n\n              if (!tribes.has(servant.tribe_id)) {\n                tribes.set(servant.tribe_id, []);\n              }\n              tribes.get(servant.tribe_id).push(servant);\n            }\n\n            _context.next = 15;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context['catch'](7);\n            _didIteratorError = true;\n            _iteratorError = _context.t0;\n\n          case 15:\n            _context.prev = 15;\n            _context.prev = 16;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 18:\n            _context.prev = 18;\n\n            if (!_didIteratorError) {\n              _context.next = 21;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 21:\n            return _context.finish(18);\n\n          case 22:\n            return _context.finish(15);\n\n          case 23:\n            _iteratorNormalCompletion2 = true;\n            _didIteratorError2 = false;\n            _iteratorError2 = undefined;\n            _context.prev = 26;\n            _iterator2 = tribes.keys()[Symbol.iterator]();\n\n          case 28:\n            if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {\n              _context.next = 39;\n              break;\n            }\n\n            tribeId = _step2.value;\n\n            _logger2.default.verbose('Create Servant Clip Sprite Image: tribe_id = %d', tribeId);\n            _context.next = 33;\n            return createClipSpriteWithTribe(tribeId, tribes.get(tribeId));\n\n          case 33:\n            _logger2.default.verbose('Create Servant Sprite Image: tribe_id = %d', tribeId);\n            _context.next = 36;\n            return createSpriteWithTribe(tribeId, tribes.get(tribeId));\n\n          case 36:\n            _iteratorNormalCompletion2 = true;\n            _context.next = 28;\n            break;\n\n          case 39:\n            _context.next = 45;\n            break;\n\n          case 41:\n            _context.prev = 41;\n            _context.t1 = _context['catch'](26);\n            _didIteratorError2 = true;\n            _iteratorError2 = _context.t1;\n\n          case 45:\n            _context.prev = 45;\n            _context.prev = 46;\n\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n\n          case 48:\n            _context.prev = 48;\n\n            if (!_didIteratorError2) {\n              _context.next = 51;\n              break;\n            }\n\n            throw _iteratorError2;\n\n          case 51:\n            return _context.finish(48);\n\n          case 52:\n            return _context.finish(45);\n\n          case 53:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[7, 11, 15, 23], [16,, 18, 22], [26, 41, 45, 53], [46,, 48, 52]]);\n  }));\n};\n\nvar _co = require('co');\n\nvar _co2 = _interopRequireDefault(_co);\n\nvar _logger = require('../../utils/logger');\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _models = require('../../models');\n\nvar models = _interopRequireWildcard(_models);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar lwip = null;\nif (!process.env.OPENSHIFT_APP_DNS) {\n  lwip = require('lwip');\n}\n\nvar imageDir = './public/assets/img/';\n\nfunction findServants(args) {\n  return models.servant.find(args).sort({ _id: 1 }).exec();\n}\n\nfunction createClipSpriteWithTribe(tribeId, servants) {\n  return new Promise(function (resolve, reject) {\n    var max = servants.reduce(function (previous, current) {\n      return Math.max(current.tribe_code, previous);\n    }, 0);\n    lwip.create(40 * max, 40, { r: 0, g: 0, b: 0 }, function (err, image) {\n      (0, _co2.default)(regeneratorRuntime.mark(function _callee2() {\n        var _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, _servant;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                image = image.batch();\n                _iteratorNormalCompletion3 = true;\n                _didIteratorError3 = false;\n                _iteratorError3 = undefined;\n                _context2.prev = 4;\n                _iterator3 = servants[Symbol.iterator]();\n\n              case 6:\n                if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _servant = _step3.value;\n                _context2.next = 10;\n                return pasteSprite(image, _servant);\n\n              case 10:\n                image = _context2.sent;\n\n              case 11:\n                _iteratorNormalCompletion3 = true;\n                _context2.next = 6;\n                break;\n\n              case 14:\n                _context2.next = 20;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2['catch'](4);\n                _didIteratorError3 = true;\n                _iteratorError3 = _context2.t0;\n\n              case 20:\n                _context2.prev = 20;\n                _context2.prev = 21;\n\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                  _iterator3.return();\n                }\n\n              case 23:\n                _context2.prev = 23;\n\n                if (!_didIteratorError3) {\n                  _context2.next = 26;\n                  break;\n                }\n\n                throw _iteratorError3;\n\n              case 26:\n                return _context2.finish(23);\n\n              case 27:\n                return _context2.finish(20);\n\n              case 28:\n                return _context2.abrupt('return', image);\n\n              case 29:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[4, 16, 20, 28], [21,, 23, 27]]);\n      })).then(function (image) {\n        image.writeFile(imageDir + 'clip/spr-' + tribeId + '.jpg', 'jpg', function (err) {\n          if (err) {\n            reject(err);\n            return;\n          }\n          resolve();\n        });\n      }, function (err) {\n        reject(err);\n      });\n    });\n  });\n}\n\nfunction createSpriteWithTribe(tribeId, servants) {\n  return new Promise(function (resolve, reject) {\n    var max = servants.reduce(function (previous, current) {\n      return Math.max(current.tribe_code, previous);\n    }, 0);\n    lwip.create(150 * max, 890 / 640 * 150, { r: 0, g: 0, b: 0 }, function (err, image) {\n      (0, _co2.default)(regeneratorRuntime.mark(function _callee3() {\n        var _iteratorNormalCompletion4, _didIteratorError4, _iteratorError4, _iterator4, _step4, _servant2;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                image = image.batch();\n                _iteratorNormalCompletion4 = true;\n                _didIteratorError4 = false;\n                _iteratorError4 = undefined;\n                _context3.prev = 4;\n                _iterator4 = servants[Symbol.iterator]();\n\n              case 6:\n                if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {\n                  _context3.next = 14;\n                  break;\n                }\n\n                _servant2 = _step4.value;\n                _context3.next = 10;\n                return paste(image, _servant2);\n\n              case 10:\n                image = _context3.sent;\n\n              case 11:\n                _iteratorNormalCompletion4 = true;\n                _context3.next = 6;\n                break;\n\n              case 14:\n                _context3.next = 20;\n                break;\n\n              case 16:\n                _context3.prev = 16;\n                _context3.t0 = _context3['catch'](4);\n                _didIteratorError4 = true;\n                _iteratorError4 = _context3.t0;\n\n              case 20:\n                _context3.prev = 20;\n                _context3.prev = 21;\n\n                if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                  _iterator4.return();\n                }\n\n              case 23:\n                _context3.prev = 23;\n\n                if (!_didIteratorError4) {\n                  _context3.next = 26;\n                  break;\n                }\n\n                throw _iteratorError4;\n\n              case 26:\n                return _context3.finish(23);\n\n              case 27:\n                return _context3.finish(20);\n\n              case 28:\n                return _context3.abrupt('return', image);\n\n              case 29:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[4, 16, 20, 28], [21,, 23, 27]]);\n      })).then(function (image) {\n        image.writeFile(imageDir + 'm/spr-' + tribeId + '.jpg', 'jpg', function (err) {\n          if (err) {\n            reject(err);\n            return;\n          }\n          resolve();\n        });\n      }, function (err) {\n        reject(err);\n      });\n    });\n  });\n}\n\nfunction pasteSprite(image, servant) {\n  return new Promise(function (resolve, reject) {\n    var imagePath = imageDir + 'clip/' + servant.id + '.jpg';\n    lwip.open(imagePath, function (err, pasteImage) {\n      if (err) {\n        reject(err);\n        return;\n      }\n      image.paste(40 * (servant.tribe_code - 1), 0, pasteImage);\n      resolve(image);\n    });\n  });\n}\n\nfunction paste(image, servant) {\n  return new Promise(function (resolve, reject) {\n    var imagePath = imageDir + 'm/' + servant.id + '.jpg';\n    lwip.open(imagePath, function (err, pasteImage) {\n      if (err) {\n        reject(err);\n        return;\n      }\n      image.paste(150 * (servant.tribe_code - 1), 0, pasteImage);\n      resolve(image);\n    });\n  });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/server/commands/sprite/servant.js\n ** module id = 28\n ** module chunks = 0\n **/"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACvXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACzgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACpaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;","sourceRoot":""}